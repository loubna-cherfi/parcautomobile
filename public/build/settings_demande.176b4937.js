(self.webpackChunk=self.webpackChunk||[]).push([[113],{26189:(t,e,n)=>{"use strict";var r=n(6672),o=n.n(r);const a=JSON.parse('{"base_url":"","routes":{"app_login":{"tokens":[["text","/login"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_logout":{"tokens":[["text","/logout"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_module_list":{"tokens":[["text","/setting/module/list"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_module_add":{"tokens":[["text","/setting/module/add"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_module_toggle_active":{"tokens":[["variable","/","[^/]++","module",true],["text","/setting/module/activer"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_sousmodule_list":{"tokens":[["text","/setting/sousmodule/list"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_sousmodule_add":{"tokens":[["text","/setting/sousmodule/add"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_sousmodule_toggle_active":{"tokens":[["variable","/","[^/]++","sousmodule",true],["text","/setting/sousmodule/activer"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_assign_convention":{"tokens":[["text","/user/assign-convention"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":["POST"],"schemes":[]},"app_assign_caisse":{"tokens":[["text","/user/assign-caisse"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":["POST"],"schemes":[]},"app_duplicate_user":{"tokens":[["text","/user/duplicate-user"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":["POST"],"schemes":[]}},"prefix":"","host":"localhost","port":"","scheme":"http","locale":""}');o().setRoutingData(a)},59051:(t,e,n)=>{n(89554),n(41539),n(54747),n(92222),n(56977),n(83710),n(83112),$(document).ready((function(){$("#demandeTable").DataTable({lengthMenu:[[15,25,50,-1],[15,25,50,"ALL"]],autoWidth:!1,destroy:!0}),"undefined"!=typeof bootstrap&&void 0!==bootstrap.Tooltip?document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((function(t){return new bootstrap.Tooltip(t)})):$('[data-toggle="tooltip"]').tooltip();var t=0;$("#add-detail").on("click",(function(){var e=$('select[name="details[0][vehicule]"] option:selected'),n=$('select[name="details[0][conducteur]"] option:selected'),r=$('select[name="details[0][type_prestation]"] option:selected'),o=$('select[name="details[0][zone]"] option:selected'),a=$('select[name="details[0][prestation]"] option:selected'),s=$('input[name="details[0][quantite]"]').val(),i=$('input[name="details[0][nb_jours]"]').val(),c=$('input[name="dateDemande"]').val();e.val()&&n.val()&&r.val()&&o.val()&&a.val()&&s&&i?$.ajax({url:"/demande/ajax/tarif",method:"GET",data:{prestationId:a.val(),date:c,quantite:s,nbJours:i},success:function(c){$("#table-details-container").show(),$("#table-details tbody").append('\n          <tr data-index="'.concat(t,'">\n            <td>').concat(t+1,"</td>\n            <td>").concat(e.text(),'<input type="hidden" name="details[').concat(t,'][vehicule]" value="').concat(e.val(),'"></td>\n            <td>').concat(n.text(),'<input type="hidden" name="details[').concat(t,'][conducteur]" value="').concat(n.val(),'"></td>\n            <td>').concat(r.text(),'<input type="hidden" name="details[').concat(t,'][type_prestation]" value="').concat(r.val(),'"></td>\n            <td>').concat(o.text(),'<input type="hidden" name="details[').concat(t,'][zone]" value="').concat(o.val(),'"></td>\n            <td>').concat(a.text(),'<input type="hidden" name="details[').concat(t,'][prestation]" value="').concat(a.val(),'"></td>\n            <td>').concat(s,'<input type="hidden" name="details[').concat(t,'][quantite]" value="').concat(s,'"></td>\n            <td>').concat(i,'<input type="hidden" name="details[').concat(t,'][nb_jours]" value="').concat(i,'"></td>\n            <td>').concat(c.toFixed(2),'<input type="hidden" name="details[').concat(t,'][tarif]" value="').concat(c.toFixed(2),'"></td>\n            <td><button class="btn btn-sm btnRemoveDetail"><i class="fa fa-trash"></i></button></td>\n          </tr>\n        ')),t++,$('select[name^="details[0]"]').removeAttr("name"),$('input[name="details[0][quantite]"]').val("").removeAttr("name"),$('input[name="details[0][nb_jours]"]').val("").removeAttr("name"),$("#add-prestation-0").html('<option value="">Prestation</option>').removeAttr("name")},error:function(){alert("Erreur lors du calcul du tarif.")}}):alert("Veuillez remplir tous les champs du détail.")})),$(document).on("click",".btnRemoveDetail",(function(){$(this).closest("tr").remove(),0===$("#table-details tbody tr").length&&($("#table-details-container").hide(),t=0)})),$("#add-type-prestation, #add-zone").on("change",(function(){var t,e,n,r;t="#add-zone",e="#add-prestation-0",n=$("#add-type-prestation").val(),r=$(t).val(),n&&r?$.ajax({url:"/demande/ajax/prestations",method:"GET",data:{type:n,zone:r},success:function(t){var n='<option value="">Sélectionner une prestation</option>';t.forEach((function(t){n+='<option value="'.concat(t.id,'">').concat(t.nom,"</option>")})),$(e).html(n)},error:function(){$(e).html('<option value="">Erreur de chargement</option>')}}):$(e).html('<option value="">Sélectionner une prestation</option>')})),$("#addDemande").on("shown.bs.modal",(function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),s="".concat(e,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(a);$('input[name="dateDemande"]').val(s)})),$("#formAddDemande").on("submit",(function(t){0===$("#table-details tbody tr").length&&(alert("Veuillez ajouter au moins un détail avant de soumettre."),t.preventDefault())}))}))},18533:(t,e,n)=>{"use strict";var r=n(42092).forEach,o=n(9341)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},42092:(t,e,n)=>{"use strict";var r=n(49974),o=n(1702),a=n(68361),s=n(47908),i=n(26244),c=n(65417),u=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,d=6==t,p=7==t,f=5==t||d;return function(m,v,h,g){for(var x,y,S=s(m),b=a(S),$=r(v,h),_=i(b),k=0,L=g||c,T=e?L(m,_):n||p?L(m,0):void 0;_>k;k++)if((f||k in b)&&(y=$(x=b[k],k,S),t))if(e)T[k]=y;else if(y)switch(t){case 3:return!0;case 5:return x;case 6:return k;case 2:u(T,x)}else switch(t){case 4:return!1;case 7:u(T,x)}return d?-1:o||l?l:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},81194:(t,e,n)=>{"use strict";var r=n(47293),o=n(5112),a=n(7392),s=o("species");t.exports=function(t){return a>=51||!r((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,n)=>{"use strict";var r=n(47293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},77475:(t,e,n)=>{"use strict";var r=n(43157),o=n(4411),a=n(70111),s=n(5112)("species"),i=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(o(e)&&(e===i||r(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?i:e}},65417:(t,e,n)=>{"use strict";var r=n(77475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},86135:(t,e,n)=>{"use strict";var r=n(34948),o=n(3070),a=n(79114);t.exports=function(t,e,n){var s=r(e);s in t?o.f(t,s,a(0,n)):t[s]=n}},7207:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},48324:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(t,e,n)=>{"use strict";var r=n(80317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},49974:(t,e,n)=>{"use strict";var r=n(21470),o=n(19662),a=n(34374),s=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:a?s(t,e):function(){return t.apply(e,arguments)}}},21470:(t,e,n)=>{"use strict";var r=n(84326),o=n(1702);t.exports=function(t){if("Function"===r(t))return o(t)}},43157:(t,e,n)=>{"use strict";var r=n(84326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4411:(t,e,n)=>{"use strict";var r=n(1702),o=n(47293),a=n(60614),s=n(70648),i=n(35005),c=n(42788),u=function(){},l=[],d=i("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=r(p.exec),m=!p.exec(u),v=function(t){if(!a(t))return!1;try{return d(u,l,t),!0}catch(t){return!1}},h=function(t){if(!a(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!f(p,c(t))}catch(t){return!0}};h.sham=!0,t.exports=!d||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?h:v},90288:(t,e,n)=>{"use strict";var r=n(51694),o=n(70648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},54986:(t,e,n)=>{"use strict";var r=n(88113);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},76650:(t,e,n)=>{"use strict";var r=n(1702),o=n(17466),a=n(41340),s=n(38415),i=n(84488),c=r(s),u=r("".slice),l=Math.ceil,d=function(t){return function(e,n,r){var s,d,p=a(i(e)),f=o(n),m=p.length,v=void 0===r?" ":a(r);return f<=m||""==v?p:((d=c(v,l((s=f-m)/v.length))).length>s&&(d=u(d,0,s)),t?p+d:d+p)}};t.exports={start:d(!1),end:d(!0)}},38415:(t,e,n)=>{"use strict";var r=n(19303),o=n(41340),a=n(84488),s=RangeError;t.exports=function(t){var e=o(a(this)),n="",i=r(t);if(i<0||i==1/0)throw s("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},50863:(t,e,n)=>{"use strict";var r=n(1702);t.exports=r(1..valueOf)},41340:(t,e,n)=>{"use strict";var r=n(70648),o=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},92222:(t,e,n)=>{"use strict";var r=n(82109),o=n(47293),a=n(43157),s=n(70111),i=n(47908),c=n(26244),u=n(7207),l=n(86135),d=n(65417),p=n(81194),f=n(5112),m=n(7392),v=f("isConcatSpreadable"),h=m>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,arity:1,forced:!h||!p("concat")},{concat:function(t){var e,n,r,o,a,s=i(this),p=d(s,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(g(a=-1===e?s:arguments[e]))for(o=c(a),u(f+o),n=0;n<o;n++,f++)n in a&&l(p,f,a[n]);else u(f+1),l(p,f++,a);return p.length=f,p}})},89554:(t,e,n)=>{"use strict";var r=n(82109),o=n(18533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},83710:(t,e,n)=>{"use strict";var r=n(1702),o=n(98052),a=Date.prototype,s="Invalid Date",i="toString",c=r(a[i]),u=r(a.getTime);String(new Date(NaN))!=s&&o(a,i,(function(){var t=u(this);return t==t?c(this):s}))},56977:(t,e,n)=>{"use strict";var r=n(82109),o=n(1702),a=n(19303),s=n(50863),i=n(38415),c=n(47293),u=RangeError,l=String,d=Math.floor,p=o(i),f=o("".slice),m=o(1..toFixed),v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},h=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=d(o/1e7)},g=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=d(r/e),r=r%e*1e7},x=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=l(t[e]);n=""===n?r:n+p("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:c((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!c((function(){m({})}))},{toFixed:function(t){var e,n,r,o,i=s(this),c=a(t),d=[0,0,0,0,0,0],m="",y="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return l(i);if(i<0&&(m="-",i=-i),i>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(i*v(2,69,1))-69)<0?i*v(2,-e,1):i/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(d,0,n),r=c;r>=7;)h(d,1e7,0),r-=7;for(h(d,v(10,r,1),0),r=e-1;r>=23;)g(d,1<<23),r-=23;g(d,1<<r),h(d,1,1),g(d,2),y=x(d)}else h(d,0,n),h(d,1<<-e,0),y=x(d)+p("0",c);return y=c>0?m+((o=y.length)<=c?"0."+p("0",c-o)+y:f(y,0,o-c)+"."+f(y,o-c)):m+y}})},41539:(t,e,n)=>{"use strict";var r=n(51694),o=n(98052),a=n(90288);r||o(Object.prototype,"toString",a,{unsafe:!0})},83112:(t,e,n)=>{"use strict";var r=n(82109),o=n(76650).start;r({target:"String",proto:!0,forced:n(54986)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},54747:(t,e,n)=>{"use strict";var r=n(17854),o=n(48324),a=n(98509),s=n(18533),i=n(68880),c=function(t){if(t&&t.forEach!==s)try{i(t,"forEach",s)}catch(e){t.forEach=s}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(a)}},t=>{var e=e=>t(t.s=e);t.O(0,[738],(()=>(e(26189),e(59051))));t.O()}]);