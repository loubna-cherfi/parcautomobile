(self.webpackChunk=self.webpackChunk||[]).push([[962],{26189:(e,t,s)=>{"use strict";var r=s(6672),a=s.n(r);const i=JSON.parse('{"base_url":"","routes":{"app_login":{"tokens":[["text","/login"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_logout":{"tokens":[["text","/logout"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_module_list":{"tokens":[["text","/setting/module/list"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_module_add":{"tokens":[["text","/setting/module/add"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_module_toggle_active":{"tokens":[["variable","/","[^/]++","module",true],["text","/setting/module/activer"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_sousmodule_list":{"tokens":[["text","/setting/sousmodule/list"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_sousmodule_add":{"tokens":[["text","/setting/sousmodule/add"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_settings_sousmodule_toggle_active":{"tokens":[["variable","/","[^/]++","sousmodule",true],["text","/setting/sousmodule/activer"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":[],"schemes":[]},"app_assign_convention":{"tokens":[["text","/user/assign-convention"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":["POST"],"schemes":[]},"app_assign_caisse":{"tokens":[["text","/user/assign-caisse"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":["POST"],"schemes":[]},"app_duplicate_user":{"tokens":[["text","/user/duplicate-user"]],"defaults":[],"requirements":[],"hosttokens":[],"methods":["POST"],"schemes":[]}},"prefix":"","host":"localhost","port":"","scheme":"http","locale":""}');a().setRoutingData(i)},80008:(e,t,s)=>{s(73210),$(document).ready((function(){function e(){$("#vehiculeTable").DataTable({lengthMenu:[[15,25,50,-1],[15,25,50,"Tous"]],autoWidth:!1,destroy:!0})}$("select").select2(),e(),$(document).on("click","button",(function(){console.log("loubna:",$(this).attr("data-bs-target"))})),$(document).on("click",".btnUpdateVehicule",(function(){var e=$(this).data("id");$.ajax({url:"/vehicule/getVehicule/"+e,method:"GET",success:function(e){$("#idVehicule").val(e.id),$("#matriculeUpd").val(e.matricule),$("#modelUpd").val(e.model),$("#carburantUpd").val(e.carburant),$("#transmissionUpd").val(e.transmission),$("#kilometrageUpd").val(e.kilometrage),$("#capaciteUpd").val(e.capacite),$("#marque_vehicule_id_upd").val(e.marque_vehicule_id).trigger("change"),$("#type_vehicule_id_upd").val(e.type_vehicule_id).trigger("change"),e.active?$("#actifUpd").prop("checked",!0):$("#inactifUpd").prop("checked",!0),$("#updateVehicule").modal("show")},error:function(){toastr.error("Erreur lors du chargement du véhicule.")}})})),$(document).on("click",".saveUpdateVehicule",(function(e){e.preventDefault();var t={id:$("#idVehicule").val(),matricule:$("#matriculeUpd").val().trim(),model:$("#modelUpd").val().trim(),carburant:$("#carburantUpd").val().trim(),transmission:$("#transmissionUpd").val().trim(),kilometrage:$("#kilometrageUpd").val().trim(),capacite:$("#capaciteUpd").val().trim(),statusVehicule:$('input[name="statusVehiculeUpd"]:checked').val(),marque_vehicule_id:$("#marque_vehicule_id_upd").val(),type_vehicule_id:$("#type_vehicule_id_upd").val()};t.matricule&&t.model&&t.carburant&&t.transmission&&t.kilometrage&&t.capacite&&t.marque_vehicule_id&&t.type_vehicule_id?$.ajax({url:"/vehicule/updateVehicule",method:"POST",data:t,success:function(){$("#updateVehicule").modal("hide"),toastr.success("Véhicule modifié avec succès."),location.reload()},error:function(e){toastr.error("Une erreur est survenue lors de la modification."),console.error(e.responseText)}}):toastr.error("Veuillez remplir tous les champs obligatoires.")})),$(document).on("click",".saveAddVehicule",(function(t){t.preventDefault();var s={matricule:$("#matricule").val().trim(),model:$("#model").val().trim(),carburant:$("#carburant").val().trim(),transmission:$("#transmission").val().trim(),kilometrage:$("#kilometrage").val().trim(),capacite:$("#capacite").val().trim(),status:$('input[name="statusVehicule"]:checked').val(),marque_vehicule_id:$("#marque_vehicule_id").val(),type_vehicule_id:$("#type_vehicule_id").val()};s.matricule&&s.model&&s.carburant&&s.transmission&&s.kilometrage&&s.capacite&&s.marque_vehicule_id&&s.type_vehicule_id?$.ajax({url:"/vehicule/addVehicule",method:"POST",data:s,success:function(t){t.exists?toastr.warning("VÉHICULE EXISTE DÉJÀ !"):($("#addVehicule").modal("hide"),toastr.success("Véhicule ajouté avec succès !"),$("#listVehicules").html(t),e())},error:function(e){toastr.error("Une erreur est survenue lors de l'ajout."),console.error(e.responseText)}}):toastr.error("Veuillez remplir tous les champs obligatoires.")})),$(document).on("click",".btnToggleStatusVehicule",(function(){var e=$(this).data("id");$.ajax({url:"/vehicule/toggleStatus/"+e,method:"POST",success:function(e){e.success?(toastr.success(e.message),location.reload()):toastr.error(e.message||"Erreur inattendue.")},error:function(){toastr.error("Erreur lors du changement de statut.")}})}))}))},76091:(e,t,s)=>{"use strict";var r=s(76530).PROPER,a=s(47293),i=s(81361);e.exports=function(e){return a((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||r&&i[e].name!==e}))}},53111:(e,t,s)=>{"use strict";var r=s(1702),a=s(84488),i=s(41340),o=s(81361),u=r("".replace),c=RegExp("^["+o+"]+"),l=RegExp("(^|[^"+o+"])["+o+"]+$"),n=function(e){return function(t){var s=i(a(t));return 1&e&&(s=u(s,c,"")),2&e&&(s=u(s,l,"$1")),s}};e.exports={start:n(1),end:n(2),trim:n(3)}},41340:(e,t,s)=>{"use strict";var r=s(70648),a=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},81361:e=>{"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},73210:(e,t,s)=>{"use strict";var r=s(82109),a=s(53111).trim;r({target:"String",proto:!0,forced:s(76091)("trim")},{trim:function(){return a(this)}})}},e=>{var t=t=>e(e.s=t);e.O(0,[738],(()=>(t(26189),t(80008))));e.O()}]);